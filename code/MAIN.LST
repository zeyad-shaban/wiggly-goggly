
ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 1





       MCS-51 Family Macro Assembler   A S E M - 5 1   V 1.3
       =====================================================



	Source File:	..\main.asm
	Object File:	..\main.hex
	List File:	..\main.lst



 Line  I  Addr  Code            Source

    1:				;----------------------------------------------------------
    2:				; Project: Ultrasonic Echo Timer Measurement
    3:				; Clock  : 11.0592 MHz
    4:				; UART   : 9600 baud
    5:				; UART output = raw TH0/TL0 count of ECHO pulse width
    6:				;----------------------------------------------------------
    7:
    8:		B      0091	US_TRIG_R   EQU  P1.1    ; Right Trigger pin
    9:		B      0090	US_ECHO_R   EQU  P1.0    ; Right Echo pin
   10:		B      00A0	LED0 EQU P2.0; 10cm
   11:		B      00A1	LED1 EQU P2.1; 20cm
   12:		B      00A2	LED2 EQU P2.2; 30cm
   13:		B      00A3	LED3 EQU P2.3; 40cm
   14:		B      00A4	LED4 EQU P2.4; 50cm
   15:		B      00A5	LED5 EQU P2.5; 60cm
   16:		B      00A6	LED6 EQU P2.6; 70cm
   17:		B      00A7	LED7 EQU P2.7; >70cm
   18:
   19:		B      0093	LED_OUT EQU P1.3;out of range
   20:
   21:		B      0092	LCD_RS      EQU  P1.2
   22:		B      0093	LCD_RW      EQU  P1.3
   23:		B      0094	LCD_EN      EQU  P1.4
   24:		D      00B0	LCD_DATA    EQU  P3
   25:
   26:
   27:		N      0000	ORG 0000h
   28:	  0000	02 00 B5	LJMP START
   29:
   30:				;=======================
   31:				; LCD SUB_ROUTINES
   32:				;=======================
   33:
   34:	  0003			LCD_DELAY:
   35:	  0003	79 FF		    MOV R1, #255
   36:	  0005	7A FF		DL1: MOV R2, #255
   37:	  0007	DA FE		DL2: DJNZ R2, DL2
   38:	  0009	D9 FA		     DJNZ R1, DL1
   39:	  000B	22		     RET
   40:
   41:	  000C			LCD_CMD: ; to send LCD commands
   42:	  000C	C2 92		    CLR LCD_RS
   43:	  000E	C2 93		    CLR LCD_RW

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 2



 Line  I  Addr  Code            Source

   44:	  0010	D2 94		    SETB LCD_EN
   45:	  0012	F5 B0		    MOV LCD_DATA, A
   46:	  0014	11 03		    ACALL LCD_DELAY
   47:	  0016	C2 94		    CLR LCD_EN
   48:	  0018	22		    RET
   49:
   50:	  0019			LCD_DATA_WRITE:
   51:	  0019	D2 92		    SETB LCD_RS
   52:	  001B	C2 93		    CLR LCD_RW
   53:	  001D	D2 94		    SETB LCD_EN
   54:	  001F	F5 B0		    MOV LCD_DATA, A
   55:	  0021	C2 94		    CLR LCD_EN
   56:	  0023	22		    RET
   57:
   58:	  0024			LCD_INIT:
   59:	  0024	74 38		    MOV A, #38H     ; 8-bit, 2-line
   60:	  0026	11 0C		    ACALL LCD_CMD
   61:	  0028	74 0E		    MOV A, #0EH     ; Display ON, Cursor ON
   62:	  002A	11 0C		    ACALL LCD_CMD
   63:	  002C	74 01		    MOV A, #01H     ; Clear display
   64:	  002E	11 0C		    ACALL LCD_CMD
   65:	  0030	74 06		    MOV A, #06H     ; Entry mode
   66:	  0032	11 0C		    ACALL LCD_CMD
   67:	  0034	22		    RET
   68:
   69:				; )NOTE: must move value you wish to print into register DPTR)
   70:	  0035			LCD_SEND_STRING:
   71:	  0035	E4		    CLR A
   72:	  0036	93		    MOVC A, @A+DPTR
   73:	  0037	60 05		    JZ LCD_STRING_DONE
   74:	  0039	11 19		    ACALL LCD_DATA_WRITE
   75:	  003B	A3		    INC DPTR
   76:	  003C	80 F7		    SJMP LCD_SEND_STRING
   77:	  003E			LCD_STRING_DONE:
   78:	  003E	22		    RET
   79:
   80:	  003F			LCD_CLEAR:
   81:	  003F	74 01		    MOV   A,#01h             ; Clear-Display command
   82:	  0041	11 0C		    ACALL LCD_CMD            ; sends it
   83:	  0043	11 03		    ACALL LCD_DELAY          ; yields plenty of time (> 1.6 ms)
   84:	  0045	22		    RET
   85:
   86:				;----------------------------------------------------------
   87:				;  LCD_SEND_DECIMAL  – prints an 8-bit value in A (0-255)
   88:				; )NOTE: must move value you wish to print into register A)
   89:				;----------------------------------------------------------
   90:	  0046			LCD_SEND_DECIMAL:
   91:	  0046	75 F0 64	    MOV     B,#100          ; 1)  hundreds
   92:	  0049	84		    DIV     AB              ;    A = hundreds, B = 0-99 remainder
   93:	  004A	FC		    MOV     R4,A            ;    save hundreds
   94:	  004B	E5 F0		    MOV     A,B             ; 2)  tens / ones
   95:	  004D	75 F0 0A	    MOV     B,#10
   96:	  0050	84		    DIV     AB              ;    A = tens, B = ones
   97:	  0051	FD		    MOV     R5,A
   98:	  0052	AE F0		    MOV     R6,B
   99:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 3



 Line  I  Addr  Code            Source

  100:				    ; -------- print hundreds if non-zero ---------------
  101:	  0054	EC		    MOV     A,R4
  102:	  0055	60 04		    JZ      SKIP_HUNDREDS
  103:	  0057	24 30		    ADD     A,#'0'
  104:	  0059	11 19		    ACALL   LCD_DATA_WRITE
  105:	  005B			SKIP_HUNDREDS:
  106:				    ; -------- print tens (always if hundreds shown) ----
  107:	  005B	ED		    MOV     A,R5
  108:	  005C	60 06		    JZ      SKIP_TENS
  109:	  005E	24 30		    ADD     A,#'0'
  110:	  0060	11 19		    ACALL   LCD_DATA_WRITE
  111:	  0062	80 09		    SJMP    PRINT_ONES
  112:	  0064			SKIP_TENS:
  113:				    ; if both hundreds and tens were zero, we still need one ‘0’
  114:	  0064	EC		    MOV     A,R4
  115:	  0065	70 06		    JNZ     PRINT_ONES      ; already printed a hundreds digit
  116:	  0067	74 30		    MOV     A,#'0'          ; value was 0-9, so show a single 0
  117:	  0069	11 19		    ACALL   LCD_DATA_WRITE
  118:	  006B	80 05		    SJMP    DONE_DEC
  119:	  006D			PRINT_ONES:
  120:	  006D	EE		    MOV     A,R6
  121:	  006E	24 30		    ADD     A,#'0'
  122:	  0070	11 19		    ACALL   LCD_DATA_WRITE
  123:	  0072			DONE_DEC:
  124:	  0072	22		    RET
  125:
  126:	  0073			LCD_SEND_HEX:      ;send values to R6 first
  127:	  0073	F5 F0		    MOV B, A
  128:	  0075	C4		    SWAP A
  129:	  0076	54 0F		    ANL A, #0Fh
  130:	  0078	11 85		    ACALL HEX_TO_ASCII
  131:	  007A	11 19		    ACALL LCD_DATA_WRITE
  132:
  133:	  007C	E5 F0		    MOV A, B
  134:	  007E	54 0F		    ANL A, #0Fh
  135:	  0080	11 85		    ACALL HEX_TO_ASCII
  136:	  0082	11 19		    ACALL LCD_DATA_WRITE
  137:	  0084	22		    RET
  138:
  139:				;----------------------------------------------------------
  140:				;  HEX_TO_ASCII  – expects 0-15 in A, returns ‘0’…‘F’ in A (uses a ROM look-up so it’s
				 always right)
  141:				;----------------------------------------------------------
  142:	  0085			HEX_TO_ASCII:
  143:	  0085	C0 82		    PUSH    DPL             ; keep caller’s DPTR safe
  144:	  0087	C0 83		    PUSH    DPH
  145:	  0089	90 01 B6	    MOV     DPTR,#HEX_TAB   ; point to table
  146:	  008C	93		    MOVC    A,@A+DPTR       ; fetch the correct character
  147:	  008D	D0 83		    POP     DPH
  148:	  008F	D0 82		    POP     DPL
  149:	  0091	22		    RET
  150:
  151:				; Delay ≈ 500 µs
  152:	  0092			DELAY_500MS:
  153:	  0092	7A 64		    MOV R2, #100
  154:	  0094	7B 64		L3: MOV R3, #100

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 4



 Line  I  Addr  Code            Source

  155:	  0096	79 05		L4: MOV R1, #5
  156:	  0098	00		L5: NOP
  157:	  0099	D9 FD		    DJNZ R1, L5
  158:	  009B	DB F9		    DJNZ R3, L4
  159:	  009D	DA F5		    DJNZ R2, L3
  160:	  009F	22		    RET
  161:
  162:				; Delay ≈ 500 µs
  163:	  00A0			DELAY_500US:
  164:	  00A0	7A 05		    MOV R2, #5
  165:	  00A2	7B 28		L1: MOV R3, #40
  166:	  00A4	00		L2: NOP
  167:	  00A5	DB FD		    DJNZ R3, L2
  168:	  00A7	DA F9		    DJNZ R2, L1
  169:	  00A9	22		    RET
  170:
  171:				;----------------------------------------------------------
  172:				; Delay ≈10 µs
  173:	  00AA			DELAY_10US:
  174:	  00AA	00		    NOP
  175:	  00AB	00		    NOP
  176:	  00AC	00		    NOP
  177:	  00AD	00		    NOP
  178:	  00AE	00		    NOP
  179:	  00AF	00		    NOP
  180:	  00B0	00		    NOP
  181:	  00B1	00		    NOP
  182:	  00B2	00		    NOP
  183:	  00B3	00		    NOP
  184:	  00B4	22		    RET
  185:
  186:				;----------------------------------------------------------
  187:				; START
  188:	  00B5			START:
  189:	  00B5	75 89 01	    MOV TMOD, #01H       ; Timer1 Mode 2 (for UART), Timer0 Mode 1
  190:	  00B8	C2 8C		    CLR TR0               ; Ensure Timer0 OFF
  191:
  192:	  00BA	75 8A 00	    MOV TL0, #00h  ; Reset Timer0 for next round
  193:	  00BD	75 8C 00	    MOV TH0, #00h
  194:
  195:	  00C0	C2 A0		    CLR LED0 ; make sure all pins are ready
  196:	  00C2	C2 A1		    CLR LED1
  197:	  00C4	C2 A2		    CLR LED2
  198:	  00C6	C2 A3		    CLR LED3
  199:	  00C8	C2 A4		    CLR LED4
  200:	  00CA	C2 A5		    CLR LED5
  201:	  00CC	C2 A6		    CLR LED6
  202:	  00CE	C2 A7		    CLR LED7
  203:	  00D0	C2 91		    CLR US_TRIG_R
  204:	  00D2	C2 90		    CLR US_ECHO_R
  205:	  00D4	C2 92		    CLR LCD_RS
  206:	  00D6	C2 93		    CLR LCD_RW
  207:	  00D8	C2 94		    CLR LCD_EN
  208:	  00DA	C2 B0		    CLR LCD_DATA
  209:
  210:	  00DC	11 24		    ACALL LCD_INIT       ; Initialize LCD

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 5



 Line  I  Addr  Code            Source

  211:
  212:				    ;send start string
  213:	  00DE	90 01 9A	    MOV DPTR,#MSG_START
  214:	  00E1	11 35		    ACALL LCD_SEND_STRING
  215:	  00E3	11 A0		    ACALL DELAY_500US
  216:	  00E5	11 3F		    ACALL LCD_CLEAR
  217:
  218:	  00E7			MAIN_TOGGLE:
  219:				    ; Send TRIG pulse
  220:	  00E7	D2 91		    SETB US_TRIG_R
  221:	  00E9	11 AA		    ACALL DELAY_10US
  222:	  00EB	C2 91		    CLR  US_TRIG_R
  223:
  224:	  00ED			WAIT_ECHO_HIGH: ; also this was JB and that was waiting for echo low which doesnt make any sense
  225:	  00ED	30 90 FD	    JNB   US_ECHO_R, WAIT_ECHO_HIGH
  226:	  00F0	C2 8D		    CLR  TF0
  227:	  00F2	C2 8C		    CLR  TR0
  228:
  229:				    ; Start Timer0
  230:	  00F4	D2 8C		    SETB TR0
  231:
  232:
  233:	  00F6			WAIT_RISE:
  234:	  00F6	20 90 0E	    JB   US_ECHO_R, GOT_ECHO
  235:	  00F9	D8 FB		    DJNZ  R0, WAIT_RISE
  236:	  00FB	D9 F9		    DJNZ  R1, WAIT_RISE
  237:	  00FD	80 02		    SJMP  NO_ECHO
  238:
  239:	  00FF	C2 93		CLR LED_OUT
  240:
  241:	  0101			NO_ECHO:
  242:	  0101	C2 8C		    CLR TR0
  243:	  0103	D2 93		    SETB LED_OUT
  244:	  0105	80 E0		    SJMP MAIN_TOGGLE
  245:
  246:	  0107			GOT_ECHO:
  247:				;i can belive this fixed everything
  248:	  0107			WAIT_ECHO_LOW:
  249:	  0107	20 90 FD	    JB   US_ECHO_R, WAIT_ECHO_LOW
  250:	  010A	C2 8D		    CLR  TF0
  251:	  010C	C2 8C		    CLR  TR0
  252:
  253:				    ; -----------------------------
  254:				    ; Print "Pulse: " and Timer0
  255:				    ; -----------------------------
  256:	  010E	90 01 92	    MOV DPTR, #MSG_PULSE
  257:	  0111	11 35		    ACALL LCD_SEND_STRING
  258:	  0113	E5 8C		    MOV A,TH0
  259:	  0115	11 73		    ACALL LCD_SEND_HEX
  260:	  0117	E5 8A		    MOV A,TL0
  261:	  0119	11 73		    ACALL LCD_SEND_HEX
  262:
  263:				        ; Calculate pulse duration
  264:	  011B	E5 8A		    MOV A, TL0       ; Store TL0 in R0
  265:	  011D	F8		    MOV R0, A
  266:	  011E	E5 8C		    MOV A, TH0       ; Store TH0 in R1

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 6



 Line  I  Addr  Code            Source

  267:	  0120	F9		    MOV R1, A
  268:
  269:				    ; Use DPH:DPL = R1:R0 to load 16-bit value
  270:	  0121	88 82		    MOV DPL, R0
  271:	  0123	89 83		    MOV DPH, R1
  272:
  273:				    ; Approximate Distance = timer / 53
  274:				    ; Result will be in R7
  275:	  0125	7F 00		    MOV R7, #0        ; Distance result = 0
  276:
  277:	  0127			DIV_LOOP:
  278:	  0127	C3		    CLR C
  279:	  0128	E5 82		    MOV A, DPL
  280:	  012A	94 35		    SUBB A, #53
  281:	  012C	F5 82		    MOV DPL, A
  282:	  012E	E5 83		    MOV A, DPH
  283:	  0130	94 00		    SUBB A, #00
  284:	  0132	F5 83		    MOV DPH, A
  285:	  0134	40 03		    JC DIV_DONE       ; Stop if DPH:DPL < 53
  286:	  0136	0F		    INC R7
  287:	  0137	80 EE		    SJMP DIV_LOOP
  288:
  289:	  0139			DIV_DONE:
  290:				    ; ---- move cursor to start of line 2 ------------------
  291:	  0139	74 C0		    MOV  A,#0C0h              ; DDRAM addr 40 → line 2, col 0
  292:	  013B	11 0C		    ACALL LCD_CMD
  293:
  294:				    ; Display Distance (in cm)
  295:	  013D	90 01 AB	    MOV DPTR, #MSG_DISTANCE
  296:	  0140	11 35		    ACALL LCD_SEND_STRING
  297:	  0142	EF		    MOV A, R7
  298:	  0143	11 46		    ACALL LCD_SEND_DECIMAL
  299:
  300:				        ; ----- Clear all LEDs (P2.0 to P2.7) -----
  301:	  0145	75 A0 00	    MOV P2,#0h
  302:
  303:				    ; ----- Light LEDs based on distance in R2 -----
  304:	  0148	EF		    MOV A, R7
  305:
  306:	  0149	B4 0A 02	    CJNE A, #10, CHECK_20
  307:	  014C	D2 A0		    SETB LED0
  308:
  309:	  014E			CHECK_20:
  310:	  014E	40 33		    JC DONE_LEDS       ; A < 10
  311:	  0150	D2 A0		    SETB LED0
  312:	  0152	B4 14 02	    CJNE A, #20, CHECK_30
  313:	  0155	D2 A1		    SETB LED1
  314:
  315:	  0157			CHECK_30:
  316:	  0157	40 2A		    JC DONE_LEDS
  317:	  0159	D2 A1		    SETB LED1
  318:	  015B	B4 1E 02	    CJNE A, #30, CHECK_40
  319:	  015E	D2 A2		    SETB LED2
  320:
  321:	  0160			CHECK_40:
  322:	  0160	40 21		    JC DONE_LEDS

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 7



 Line  I  Addr  Code            Source

  323:	  0162	D2 A2		    SETB LED2
  324:	  0164	B4 28 02	    CJNE A, #40, CHECK_50
  325:	  0167	D2 A3		    SETB LED3
  326:
  327:	  0169			CHECK_50:
  328:	  0169	40 18		    JC DONE_LEDS
  329:	  016B	D2 A3		    SETB LED3
  330:	  016D	B4 32 02	    CJNE A, #50, CHECK_60
  331:	  0170	D2 A4		    SETB LED4
  332:
  333:	  0172			CHECK_60:
  334:	  0172	40 0F		    JC DONE_LEDS
  335:	  0174	D2 A4		    SETB LED4
  336:	  0176	B4 3C 02	    CJNE A, #60, CHECK_70
  337:	  0179	D2 A5		    SETB LED5
  338:
  339:	  017B			CHECK_70:
  340:	  017B	40 06		    JC DONE_LEDS
  341:	  017D	D2 A5		    SETB LED5
  342:	  017F	D2 A6		    SETB LED6
  343:	  0181	D2 A7		    SETB LED7           ; Everything beyond 70 cm → all LEDs ON
  344:
  345:	  0183			DONE_LEDS:
  346:
  347:				    ; Reset Timer0 for next round
  348:	  0183	75 8A 00	    MOV TL0, #00h
  349:	  0186	75 8C 00	    MOV TH0, #00h
  350:
  351:	  0189	11 92		    ACALL DELAY_500MS
  352:	  018B	11 03		    ACALL LCD_DELAY
  353:
  354:	  018D	11 3F		    ACALL LCD_CLEAR
  355:	  018F	02 00 E7	    LJMP MAIN_TOGGLE
  356:
  357:				;---------------------Rom Message------------------------------------
  358:	  0192	50 75 6C 73	MSG_PULSE: DB "Pulse: ", 0
	  0196	65 3A 20 00
  359:	  019A	50 72 6F 67	MSG_START: DB "Program Starting",0
	  019E	72 61 6D 20
	  01A2	53 74 61 72
	  01A6	74 69 6E 67
	  01AA	00
  360:	  01AB	44 69 73 74	MSG_DISTANCE: DB "Distance: ", 0
	  01AF	61 6E 63 65
	  01B3	3A 20 00
  361:	  01B6	30 31 32 33	HEX_TAB: DB  "0123456789ABCDEF" ; 16-byte table
	  01BA	34 35 36 37
	  01BE	38 39 41 42
	  01C2	43 44 45 46
  362:
  363:
  364:				END





ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 8




                     register banks used:  ---

                     no errors




ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 9





	       L I S T   O F   S Y M B O L S
	       =============================


SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
??ASEM_51			  NUMBER    8051
??VERSION			  NUMBER    0130
AC				  BIT	      D6
ACC				  DATA	      E0
B				  DATA	      F0
CHECK_20			  CODE	    014E	 309
CHECK_30			  CODE	    0157	 315
CHECK_40			  CODE	    0160	 321
CHECK_50			  CODE	    0169	 327
CHECK_60			  CODE	    0172	 333
CHECK_70			  CODE	    017B	 339
CY				  BIT	      D7
DELAY_10US			  CODE	    00AA	 173
DELAY_500MS			  CODE	    0092	 152
DELAY_500US			  CODE	    00A0	 163
DIV_DONE			  CODE	    0139	 289
DIV_LOOP			  CODE	    0127	 277
DL1				  CODE	    0005	  36
DL2				  CODE	    0007	  37
DONE_DEC			  CODE	    0072	 123
DONE_LEDS			  CODE	    0183	 345
DPH				  DATA	      83
DPL				  DATA	      82
EA				  BIT	      AF
ES				  BIT	      AC
ET0				  BIT	      A9
ET1				  BIT	      AB
EX0				  BIT	      A8
EX1				  BIT	      AA
EXTI0				  CODE	    0003
EXTI1				  CODE	    0013
F0				  BIT	      D5
GOT_ECHO			  CODE	    0107	 246
HEX_TAB				  CODE	    01B6	 361
HEX_TO_ASCII			  CODE	    0085	 142
IE				  DATA	      A8
IE0				  BIT	      89
IE1				  BIT	      8B
INT0				  BIT	      B2
INT1				  BIT	      B3
IP				  DATA	      B8
IT0				  BIT	      88
IT1				  BIT	      8A
L1				  CODE	    00A2	 165
L2				  CODE	    00A4	 166
L3				  CODE	    0094	 154
L4				  CODE	    0096	 155
L5				  CODE	    0098	 156
LCD_CLEAR			  CODE	    003F	  80
LCD_CMD				  CODE	    000C	  41

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 10



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
LCD_DATA			  NUMBER    00B0	  24
LCD_DATA_WRITE			  CODE	    0019	  50
LCD_DELAY			  CODE	    0003	  34
LCD_EN				  NUMBER    0094	  23
LCD_INIT			  CODE	    0024	  58
LCD_RS				  NUMBER    0092	  21
LCD_RW				  NUMBER    0093	  22
LCD_SEND_DECIMAL		  CODE	    0046	  90
LCD_SEND_HEX			  CODE	    0073	 126
LCD_SEND_STRING			  CODE	    0035	  70
LCD_STRING_DONE			  CODE	    003E	  77
LED0				  NUMBER    00A0	  10
LED1				  NUMBER    00A1	  11
LED2				  NUMBER    00A2	  12
LED3				  NUMBER    00A3	  13
LED4				  NUMBER    00A4	  14
LED5				  NUMBER    00A5	  15
LED6				  NUMBER    00A6	  16
LED7				  NUMBER    00A7	  17
LED_OUT				  NUMBER    0093	  19
MAIN_TOGGLE			  CODE	    00E7	 218
MSG_DISTANCE			  CODE	    01AB	 360
MSG_PULSE			  CODE	    0192	 358
MSG_START			  CODE	    019A	 359
NO_ECHO				  CODE	    0101	 241
OV				  BIT	      D2
P				  BIT	      D0
P0				  DATA	      80
P1				  DATA	      90
P2				  DATA	      A0
P3				  DATA	      B0
PCON				  DATA	      87
PRINT_ONES			  CODE	    006D	 119
PS				  BIT	      BC
PSW				  DATA	      D0
PT0				  BIT	      B9
PT1				  BIT	      BB
PX0				  BIT	      B8
PX1				  BIT	      BA
RB8				  BIT	      9A
RD				  BIT	      B7
REN				  BIT	      9C
RESET				  CODE	    0000
RI				  BIT	      98
RS0				  BIT	      D3
RS1				  BIT	      D4
RXD				  BIT	      B0
SBUF				  DATA	      99
SCON				  DATA	      98
SINT				  CODE	    0023
SKIP_HUNDREDS			  CODE	    005B	 105
SKIP_TENS			  CODE	    0064	 112
SM0				  BIT	      9F
SM1				  BIT	      9E
SM2				  BIT	      9D
SP				  DATA	      81

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 11



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
START				  CODE	    00B5	 188
T0				  BIT	      B4
T1				  BIT	      B5
TB8				  BIT	      9B
TCON				  DATA	      88
TF0				  BIT	      8D
TF1				  BIT	      8F
TH0				  DATA	      8C
TH1				  DATA	      8D
TI				  BIT	      99
TIMER0				  CODE	    000B
TIMER1				  CODE	    001B
TL0				  DATA	      8A
TL1				  DATA	      8B
TMOD				  DATA	      89
TR0				  BIT	      8C
TR1				  BIT	      8E
TXD				  BIT	      B1
US_ECHO_R			  NUMBER    0090	   9
US_TRIG_R			  NUMBER    0091	   8
WAIT_ECHO_HIGH			  CODE	    00ED	 224
WAIT_ECHO_LOW			  CODE	    0107	 248
WAIT_RISE			  CODE	    00F6	 233
WR				  BIT	      B6
